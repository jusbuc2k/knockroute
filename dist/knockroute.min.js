/**
 * knockroute - Router & lazy template loader for Knockout
 * @version v0.9.9-alpha1
 * @link https://github.com/jusbuc2k/knockroute
 * @license MIT
 */
!function(e,t){"use strict";function n(){t.route=T,t.bindingHandlers.routeTemplate=x}function r(e){return e.replace(P,"")}function a(e,t){return"true"===r((e.getAttribute(t)||"").toLowerCase())}function o(e){return"object"==typeof e&&"number"==typeof e.length}function i(e){return null==e?null:":"===e[0]?D.dataType(e.slice(1)):"="===e[0]?D.equals(e.slice(1)):null}function s(e,t){return t[e.areaRouteKey]?e.router.getView(t[e.viewRouteKey],t[e.areaRouteKey]):e.router.getView(t[e.viewRouteKey])}function l(e){this.isDisposed=!1,this.disposalCallback=e}function u(e,t){var n={pathSeperator:"/"};t=this.options=T.utils.defaults(n,t||{}),this.routeTemplate=e,this.segments=u.parseTemplate(e,t.pathSeperator)}function p(){function e(){var e=n.getPath();n.pathChanged.notifySubscribers(e),r=e}var n=this,r="";n.pathChanged=new t.subscribable,n.setPath=function(e){e?window.location.hash=n.decorate(e):window.location.hash=""},n.getPath=function(){return window.location.hash.slice(1)},n.decorate=function(e){return 0===e.indexOf("#/")?e:"/"===e[0]?"#"+e:"#"===e[0]?"#/"+e.slice(1):"#/"+e},n.start=function(){T.utils.attachEvent(window,"hashchange",e),e()},n.stop=function(){T.utils.detachEvent(window,"hashchange",e)},n.revert=function(e){n.setPath(r),"function"==typeof e&&window.setTimeout(e,20)}}function c(e){function n(t){var n,r=new RegExp(e.basePath,"gi");return(n=r.exec(t))?n[0]:""}function r(t){var n,r=new RegExp(e.basePath,"gi");return(n=r.exec(t))?t.substr(n[0].length):t}function a(){var e=o.getPath();o.pathChanged.notifySubscribers(e),i=e}var o=this,i="",s={basePath:"^"};e=T.utils.defaults(s,e||{}),o.pathChanged=new t.subscribable,o.setPath=function(e){window.history.pushState({},"",n(window.location.pathname)+e),o.pathChanged.notifySubscribers(e)},o.getPath=function(){return r(window.location.pathname)},o.decorate=function(e){return e},o.start=function(){T.utils.attachEvent(window,"popstate",a),a()},o.stop=function(){T.utils.detachEvent(window,"popstate",a)},o.revert=function(e){o.setPath(i),window.setTimeout(e,20)}}function d(){}function f(){}function h(e){var t={createTemplates:!0,templateContainer:null,cache:!0};if(this.options=T.utils.defaults(t,e||{}),"undefined"==typeof jQuery)throw"jQuery is required to use the DomTemplateProvider"}function m(){}function v(e){var n=this,r={name:null,views:[]};t.utils.extend(n,T.utils.defaults(r,e||{}))}function w(e){var n=this,r={name:null,area:null,model:null,modelInstance:null,templateID:null,activeTemplateID:null,templateSrc:null,templatePersist:!1,singleton:!1,content:null,scope:null,resetScroll:!0,onModelCreating:null,onModelUnloading:null,handler:null};t.utils.extend(n,T.utils.defaults(r,e||{})),n.activeTemplateID=t.observable(n.activeTemplateID)}function g(){this._channels={},this._subs=[]}function y(e){function n(e,t,n){var r,a,o=e.templateID,i=!0,s={cancel:function(){},setTemplate:function(e){if(!i)throw"Template cannot be set at this time.";o=e}};return r=e.modelInstance&&"function"==typeof e.modelInstance[t]?b.resolve(e.modelInstance[t].apply(e.modelInstance,[n,s])):b.resolve(null),i=!1,a=S.getTemplate(o,e),b.all([r,S.templateProvider.loadTemplate(a).then(function(t){e.activeTemplateID(o)})])}function r(e,t){S.onUnload.notifySubscribers({context:this,routeValues:t.routeValues,navigation:t}),t.isCancelled||("function"==typeof e.onModelUnloading&&e.onModelUnloading.apply(e,[t.routeValues,e.modelInstance,t]),t.isCancelled||null!=e.modelInstance&&"function"==typeof e.modelInstance.unload&&e.modelInstance.unload.apply(e.modelInstance,[t.routeValues,t])===!1&&t.cancel())}function a(e){e.singleton!==!0&&null!=e.modelInstance&&"function"==typeof e.modelInstance.dispose&&e.modelInstance.dispose.apply(e.modelInstance)}function i(e){var t;for(t=0;t<M.length;t++)M[t]!==e&&null!=M[t].modelInstance&&null!=M[t].scope&&M[t].scope!==e.scope&&a(M[t],e)}function l(t,r,o){var s,l=[],u=L(),p=!1;F&&F.abort("abort"),F=T.utils.abortable(function(){L(t),F=null,t.resetScroll!==!1&&S.scrollProvider.resetScroll(),S.onLoaded.notifySubscribers({routeValues:r,navigation:o,context:this})}),"function"==typeof t.onModelCreating&&t.onModelCreating.apply(t,[r,o]),s=t.modelInstance||t.model||{},S.onLoading.notifySubscribers({routeValues:r,navigation:o,context:this}),"function"==typeof s?t.modelInstance=S.modelFactory.createModel(s,[S,r]):t.modelInstance=s;try{o.isPreventDisposeSet||(a(u),i(t)),u.singleton||o.isPersistModelSet||(u.modelInstance=null),u.activeTemplateID()&&u.activeTemplateID()!==t.templateID&&S.templateProvider.unloadTemplate(u.activeTemplateID()),l.push(n(t,e.loadMethodName,r).then(function(){return n(t,e.updateMethodName,r)}))}catch(c){return h("Error",e.errorTemplateID,c,r),b.reject(c)}return b.all(l).then(F)["catch"](function(t){F=null,"abort"===t||p||(p=!0,h("Error",e.errorTemplateID,t,r))})}function u(e){var t;return t="string"==typeof e?S.getTemplate(e):e,S.templateProvider.loadTemplate(t)}function p(t,n){var r,a,o;for(r=0;r<n.length;r++)if(o=n[r].route.match(t,n[r].defaults)){if(a=e.viewResolver.call(null,{areaRouteKey:e.areaRouteKey,viewRouteKey:e.viewRouteKey,router:S},o),null==a)continue;return{view:a,routeValues:o,route:n[r]}}return null}function c(e,t,n){var r,a,o,i;for(r=n.length-1;r>=0;r--)if(a=n[r].route.resolve(e,t))return o=n[r].route,i=n[r].defaults,{route:o,defaults:i};return null}function f(e){var n;return n=p(e,R),null==n&&(n=p(e,C)),null==n||null==n.routeValues||null==n.view?null:{view:n.view,route:n.route,routeValues:t.utils.extend(n.routeValues,T.utils.parseQueryString(e))}}function h(t,n,r,a){var o,i={routeValues:a,context:this,error:r,errorHandled:!1},s=new T.View({name:t,modelInstance:{name:t,routeValues:a,error:r},content:null});S.onLoadError.notifySubscribers(i),!i.errorHandled&&n?(o=S.getTemplate(n,{templateID:n}),"function"==typeof e.errorModel&&(s.modelInstance=new e.errorModel(a,r)),u(o).then(function(){s.activeTemplateID(o.templateID),L(s)},function(e){s.content="Failed to load the error template.",L(s)})):i.errorHandled||(s.content="An error occurred while loading the view.",L(s))}function v(t){var a=f(t),o={path:t,isCancelled:!1,cancel:function(){this.isCancelled=!0,S.pathProvider.stop(),S.pathProvider.revert(function(){S.pathProvider.start()})},isPersistModelSet:!1,persistModel:function(){this.isPersistModelSet=!0},isPreventDisposeSet:!1,preventDispose:function(){this.isPreventDisposeSet=!0}};if(null==a?o.routeValues=null:(o.routeValues=a.routeValues,o.view=a.view),null!=a&&a.view===L())n(a.view,e.updateMethodName,a.routeValues)["catch"](function(t){h("Error",e.errorTemplateID,t,o.routeValues)});else{if(r(L(),o),o.isCancelled)return;if(null==a)return void h("NotFound",e.notFoundTemplateID,"Path not found");l(a.view,a.routeValues,o)}}function w(e){P&&(P.dispose(),P=null),S.pathProvider&&S.pathProvider.stop(),S.pathProvider=e,P=S.pathProvider.pathChanged.subscribe(v),x&&S.pathProvider.start()}function g(){x||(L(I),S.pathProvider.start(),x=!0)}function y(e){var t,n;if(t=e instanceof T.View?e:new T.View(e),null==t.area)M.push(t);else{if(n=S.getArea(t.area),null==n)throw"Invalid area name on view";n.addView(t)}}var P,I,S=this,D={routes:[{template:"{view}/{id?}",defaults:{view:"home"}}],areas:[],views:[],templates:[],viewRouteKey:"view",areaRouteKey:"area",loadMethodName:"load",updateMethodName:"update",pathProvider:"hash",templateProvider:"default",scrollProvider:"window",defaultContent:"Loading...",defaultTemplateID:"",errorTemplateID:"",notFoundTemplateID:"",viewResolver:s},x=!1,V=[],C=[],R=[],A=[],M=[],F=null;e=T.utils.defaults(D,e||{}),I=new T.View({name:null,templateID:e.defaultTemplateID,content:e.defaultContent});var L=t.observable(I);S.pathProvider=null,w(new T.HashPathStringProvider),S.templateProvider=new T.DefaultTemplateProvider,S.modelFactory=new d,S.scrollProvider=new m,S.bus=new T.Bus,S.clearTemplates=function(){T.utils.clearArray(V)},S.clearRoutes=function(){T.utils.clearArray(C),T.utils.clearArray(R)},S.clearViews=function(){T.utils.clearArray(A),T.utils.clearArray(R),T.utils.clearArray(M)},S.addTemplates=function(e){e&&e.forEach&&e.forEach(function(e){V.push(e)})},S.addAreas=function(e){if(!e||!e.forEach)throw new TypeError("newAreas must be an array.");e.forEach(function(e){A.push(new T.Area(e)),o(e.routes)?e.routes.forEach(function(n){R.push({route:new T.Route("{area="+e.name+"}/"+n.template),defaults:t.utils.extend({},n.defaults)})}):R.push({route:new T.Route("{area="+e.name+"}/"+C[0].route.routeTemplate),defaults:t.utils.extend({},C[0].defaults)})})},S.addViews=function(e){if(!e||!e.forEach)throw new TypeError("addedViews must be an array.");e.forEach(function(e){y(e)})},S.insertRoutes=function(e){var t;if(!e||!e.length)throw new TypeError("insertedRoutes must be an array.");for(t=e.length-1;t>=0;t--)C.splice(0,0,{route:new T.Route(e[t].template),defaults:e[t].defaults})},S.addRoutes=function(e){if(!e||!e.forEach)throw new TypeError("addedRoutes must be an array.");e.forEach(function(e){C.push({route:new T.Route(e.template),defaults:e.defaults})})},S.getArea=function(e){return t.utils.arrayFirst(A,function(t){return t.name===e})},S.getView=function(e,n){var r;return 1===arguments.length?t.utils.arrayFirst(M,function(t){return t.name===e}):2===arguments.length?(r=S.getArea(n),null==r?null:r.getView(e)):null},S.getTemplate=function(e,n){var r=t.utils.arrayFirst(V,function(t){return t.templateID===e});return r?r:n},S.setOptions=function(n){if(null==n)throw new TypeError("newOptions must be an object.");t.utils.extend(e,n),o(n.templates)&&(S.clearTemplates(),S.addTemplates(n.templates)),o(n.routes)&&(S.clearRoutes(),S.addRoutes(n.routes)),o(n.areas)&&o(n.views)?(S.clearViews(),S.addAreas(n.areas),S.addViews(n.views)):o(n.areas)?(S.clearViews(),S.addAreas(n.areas)):o(n.views)&&(S.clearViews(),S.addViews(n.views)),"object"==typeof n.templateProvider?S.templateProvider=n.templateProvider:"ajax"===n.templateProvider&&(S.templateProvider=new T.AjaxTemplateProvider),"object"==typeof n.pathProvider?w(n.pathProvider):"history"===n.pathProvider&&w(new T.HistoryPathStringProvider(n.basePath)),"object"==typeof n.scrollProvider?S.scrollProvider=n.scrollProvider:"window"===n.scrollProvider&&(S.scrollProvider=new T.WindowScrollProvider)},S.resolve=function(e,t){var n,r,a="",o={},i=!1;if(t||(n=S.pathProvider.getPath()),r=c(e,n,R),null==r&&(r=c(e,n,C)),null==r)throw"No matching route for given path";for(var s in e)e.hasOwnProperty(s)&&!r.route.hasKey(s)&&(o[s]=e[s],i=!0);return a+=r.route.resolve(e,n),i&&(a+=E+T.utils.serializeQueryString(o)),this.pathProvider.decorate(a)},S.navigate=function(e,t){var n;if(n="string"==typeof e&&1===arguments.length?e:S.resolve(e,t),null==n)throw"No matching route or path exists.";S.pathProvider.setPath(n)},S.setTemplate=function(e){L().activeTemplateID(e)},S.dispose=function(){S.pathProvider.stop();var e=!1;P&&(P.dispose(),P=null);for(var t=0;t<M.length;t++)a(M[t]),M[t]===L()&&(e=!0);e||(r(L()),a(L())),L(null)},S.init=g,S.view=t.computed(function(){return L()}),S.onLoading=new t.subscribable,S.onLoaded=new t.subscribable,S.onUnload=new t.subscribable,S.onLoadError=new t.subscribable,this.setOptions(e)}var b=e.Promise||e.ES6Promise.Promise,T={version:"0.9.9-alpha1"},P=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,I="\\{(\\w+)([=:]\\w+)?(\\??)\\}",S=/^[\w\+\.\-\~]+$/i,E="?",D={equals:function(e){return function(t){return e===t}},dataType:function(e){var t=/.*/;return"float"===e?t=/^[-+]?\d*\.?\d*$/i:"int"===e?t=/^[-+]?\d*$/i:"hex"===e&&(t=/^[a-fA-F0-9]*$/i),function(e){return t.test(e)}}};T.defaultViewResolver=s,T.utils=T.utils||{},T.utils.clearArray=function(e){for(;e.length>0;)e.pop()},T.utils.defaults=function(e,t){for(var n in e)t.hasOwnProperty(n)||"undefined"!=typeof t[n]||"undefined"==typeof e[n]||(t[n]=e[n]);return t},T.utils.parseQueryString=function(e){var t={},n=(e||"").indexOf("?"),r=0;if(n>=0&&(e=e.slice(n+1)),"undefined"!=typeof e)for(var a,o=e.split("&"),i=0;i<o.length;i++)a=o[i].split("="),2===a.length&&(t[a[0]]=decodeURIComponent(a[1]),r++);return r>0?t:null},T.utils.serializeQueryString=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n+"="+e[n]);return t.join("&")},T.utils.attachEvent=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else{if(!e.attachEvent)throw"No event subscription method available.";e.attachEvent("on"+t,n)}},T.utils.detachEvent=function(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else{if(!e.detachEvent)throw"No event subscription method available.";e.detachEvent("on"+t,n)}},T.utils.abortable=function(e){function t(){return n?b.reject(n):b.resolve(e.apply(this,arguments))}var n=null;return t.abort=function(e){n=e},t},T.utils.setTextContent=function(e,t){e&&"undefined"!=typeof e.innerHTML?e.innerHTML=t:e&&"undefined"!=typeof e.textContent?e.textContent=t:e&&"undefined"!=typeof e.innerText&&(e.innerText=t)},l.prototype.dispose=function(){this.isDisposed||(this.disposalCallback(),this.isDisposed=!0)},u.parseSegmentValue=function(e,t){switch(e=decodeURIComponent(e),t){case"float":return parseFloat(e);case"int":return parseInt(e,10);case"hex":return parseInt(e,16);default:return e}},u.parseTemplate=function(e,t){var n,r=[],a=!1;0===e.indexOf(t)&&(e=e.slice(t.length)),n=e.split(t);for(var o=0;o<n.length;o++)if(n[o]){for(var s,l=[],u=new RegExp(I,"gi");s=u.exec(n[o]);)l.push(s);if(1===l.length){var p=!1,c=l[0][2]&&":"===l[0][2][0]?l[0][2].slice(1):"string";if("params"===c?(r.push({value:n[o],parts:[{name:l[0][1],optional:!0,type:"params",dataType:"string"}]}),p=!0):r.push({value:n[o],parts:[{name:l[0][1],optional:p="?"===l[0][3],type:"parameter",constraint:i(l[0][2]),dataType:c}]}),a&&!p)throw"Invalid route template: A required segment cannot follow an optional one.";a=a||p}else{if(l.length>1)throw"Invalid route template: Multi-part route segments are not implemented";if(S.test(n[o]))r.push({value:n[o],parts:[{name:n[o],optional:!1,type:"literal"}]});else{if("*"!==n[o])throw"Invalid route template: The segment value '"+n[o]+"' is invalid.";r.push({value:n[o],parts:[{name:n[o],optional:!1,type:"wildcard",dataType:"string"}]})}}}return r},u.prototype.match=function(e,t){var n,r,a,o={};if(null==e)throw"A value for path must be specified.";0===e.indexOf(this.options.pathSeperator)&&(e=e.slice(this.options.pathSeperator.length));var i=-1;(i=e.indexOf("?"))>=0&&(e=e.slice(0,i)),n=e.split(this.options.pathSeperator);for(var s=0;s<n.length;s++)if(r=n[s],a=this.segments.length>s?this.segments[s]:null,null==a){if(r.length>0)return null}else{if(1!==a.parts.length)throw"Multi-part route segments are not implemented";var l=a.parts[0];if("literal"===l.type){if(l.name!==r)return null}else if("wildcard"===l.type);else if("parameter"===l.type&&r.length>0){if(null!=l.constraint&&!l.constraint(r))return null;o[l.name]=u.parseSegmentValue(r,l.dataType)}else{if("parameter"!==l.type){if("params"===l.type&&this.segments.length-1==s){o[l.name]=n.slice(s).map(decodeURIComponent);break}return null}var p;if(t&&(p=t[l.name]))o[l.name]=p;else if(!l.optional)return null}}for(var s=n.length;s<this.segments.length;s++){if(a=this.segments[s],a.parts.length>1)return null;var l=a.parts[0];if("literal"===l.type)return null;var p;if(t&&(p=t[l.name])||"wildcard"===l.type)o[l.name]=p;else if(!l.optional)return null}if(null!=t)for(var c in t)t.hasOwnProperty(c)&&!o.hasOwnProperty(c)&&(o[c]=t[c]);return o},u.prototype.resolve=function(e,n){var r,a,o,i,s=[],l=Number.MAX_VALUE,u=!1;"string"==typeof n&&n.length>0&&(n[0]===this.options.pathSeperator&&(n=n.slice(1)),r=n.split(this.options.pathSeperator));for(var p=0;p<this.segments.length;p++){if(o=this.segments[p],a=r&&r[p]?decodeURI(r[p]):null,1!==o.parts.length)throw"Multi-part route segments are not supported.";if(i=o.parts[0],"wildcard"===i.type){if(!(a&&a.length>0))return null;s.push(a)}else if("literal"===i.type)s.push(i.name);else if("parameter"===i.type){if(e.hasOwnProperty(i.name)){if(u=!0,null!=i.constraint&&!i.constraint(e[i.name]))return null;s.push(e[i.name])}else if(!u&&a&&a.length>0){if(null!=i.constraint&&!i.constraint(a))return null;s.push(a)}else if(!i.optional)return null}else if("params"===i.type&&p==this.segments.length-1){var c=e[i.name];c&&(c=c.map(encodeURIComponent).join(this.options.pathSeperator),c.length&&(l=s.length,s.push(c)))}}var d=0;return t.utils.arrayForEach(this.segments,function(e){e.parts[0].optional||d++}),s.length<d?null:s.map(function(e,t){return l>t?encodeURIComponent(e):e}).join(this.options.pathSeperator)},u.prototype.hasKey=function(e){for(var t=0;t<this.segments.length;t++)for(var n=0;n<this.segments[t].parts.length;n++)if(this.segments[t].parts[n].name===e)return!0;return!1},T.Route=u,T.HashPathStringProvider=p,T.HistoryPathStringProvider=c,d.prototype.createModel=function(e,t){function n(){return e.apply(this,t)}if("function"==typeof e)return n.prototype=e.prototype,new n;throw"constructor must be a valid constructor function."},f.prototype.loadTemplate=function(e){var t=window.document.getElementById(e.templateID);if(!t)throw"There is no element with id "+e.templateID+".";if("script"!==t.tagName.toLowerCase())throw"The element with id "+e.templateID+" must be a <script> tag in order to use it as a template.";return b.resolve({success:!0,statusCode:203,template:t})},f.prototype.unloadTemplate=function(e){},T.DefaultTemplateProvider=f,h.prototype.loadTemplate=function(e){var t=window.document.getElementById(e.templateID),n=this.options.templateContainer||window.document.body,r=this;if(this.options.createTemplates&&!t&&e.templateSrc)t=window.document.createElement("script"),t.type="text/html",t.id=e.templateID,this.options.cache?t.setAttribute("data-src",e.templateSrc):t.setAttribute("data-src",e.templateSrc+"?v="+(new Date).getTime().toString()),e.templatePersist&&t.setAttribute("data-persist","true"),n.appendChild(t);else if(!t)throw"There is no template defined with id '"+e.templateID+"'";if("script"!==t.tagName.toLowerCase())throw"The element with id "+e.templateID+" must be a <script> tag in order to use it as a template.";var o=e.templateSrc||t.getAttribute("data-src"),i=a(t,"data-loaded"),s={success:!1,statusCode:0,template:t};return new b(function(e,n){o&&!i?(r.options.cache||(o+="?v="+(new Date).getTime().toString()),jQuery.get(o).done(function(n,r,a){t.text=n,t.setAttribute("data-loaded","true"),s.success=!0,s.statusCode=a.status,s.statusText=a.statusText,e(s)}).fail(function(e,t,r){s.success=!1,s.statusCode=e.status,s.statusText=e.statusText,n(s)})):(s.success=!0,s.statusCode=203,e(s))})},h.prototype.unloadTemplate=function(e){if("string"==typeof e&&(e=window.document.getElementById(e)),!(e instanceof HTMLScriptElement))throw"The 'template' parameter must be an element ID or an HTMLScriptElement";a(e,"data-persist")||null==e.getAttribute("data-src")||(e.setAttribute("data-loaded","false"),e.text="")},"undefined"!=typeof jQuery&&(T.AjaxTemplateProvider=h),m.prototype.resetScroll=function(){window.scrollTo(0,0)},T.WindowScrollProvider=m,v.prototype.getView=function(e){return t.utils.arrayFirst(this.views,function(t){return t.name===e})},v.prototype.addView=function(e){this.views.push(e)},v.prototype.clearViews=function(){T.utils.clearArray(this.views)},T.Area=v,T.View=w,g.prototype.publish=function(e,t,n){this._channels[e]&&this._channels[e].notifySubscribers(n,t)},g.prototype.subscribe=function(e,n,r){var a=this;this._channels[e]=this._channels[e]||new t.subscribable;var o=a._channels[e].subscribe(r,a,n),i=new l(function(){o.dispose(),t.utils.arrayRemoveItem(a._subs,i),a._channels[e]&&a._channels[e].getSubscriptionsCount()<=0&&(a._channels[e]=null)});return this._subs.push(i),i},g.prototype.dispose=function(){for(;this._subs.length>0;)this._subs.pop().dispose()},g["default"]=new g,T.Bus=g,T.ViewRouter=y;var x={init:function(e,n,r,a,o){var i=t.bindingHandlers.template.init(e,function(){return""}),s=t.utils.unwrapObservable(n());return t.computed(function(){var n,i=s.view(),l=function(){return n};if(!i)return void T.utils.setTextContent(e,"<h2>Error</h2><p>Something went wrong when trying to display content.</p>");if(i.content&&i.modelInstance&&i.modelInstance.error)return void T.utils.setTextContent(e,"<h2>Error</h2><p>"+i.content+"</p><p>"+(i.modelInstance.error.stack?i.modelInstance.error.stack:"")+"</p>");if(i.content)return void T.utils.setTextContent(e,i.content);if(n={data:i.modelInstance,name:t.unwrap(i.activeTemplateID)||i.templateID},!n.data||!n.name)throw"Failed to load view";t.bindingHandlers.template.update(e,l,r,a,o)},this,{disposeWhenNodeIsRemoved:e}).extend({rateLimit:10}),s.init(),i},update:function(e,t,n,r,a){}};n()}(window,ko);